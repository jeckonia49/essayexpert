{% extends "assignments/base.html" %} {% block title %}
{{ block.super }}
{% endblock title %} {% block main %}
<!-- <script>
  window.addEventListener('scroll', function () {
    if (window.innerHeight + window.scrollY >= document.body.scrollHeight) {
      // Display pop-up message or ad
      alert(
        'Thanks for reading! Please subscribe to our newsletter to stay updated.'
      )
    }
  })

  window.addEventListener('beforeunload', function (event) {
    // Cancel leaving the page
    event.preventDefault()
    // Display pop-up message or ad
    event.returnValue =
      'Wait! Before you leave, please sign up for our special offer.'
  })
  document.querySelector('#a-banner > div')
</script> -->

<div class="sticky-ad">
  <!-- Ad content goes here -->
  <a
    class="ns-ytgyi-e-11 milo-fore-adv-image-title-highlight"
    data-asoch-targets="ad0,ochTitle"
    dir="auto"
    href="https://www.googleadservices.com/pagead/aclk?sa=L&amp;ai=CUgzMF-TOZJ2tPJiAtwe1maiIDP3dtPxw9dLRw5ERZBABIISOjxxglQOgAYCJ6MQDyAEJqQJeCCo_mTqzPqgDAcgDywSqBOUBT9CCsHcDNHtw3pDiZole945nzDyFSudtgttuheRUHvR2E5gOjVftXiRkuMrSK_bOQU7qdvnSdT0shuq6pXqOBH_ww0kBV1NVaEXcRsKTOfBKVFUUDmVhH1DeFcHBZnreyVkbHX-ZYQpPc40Tc2y6XfaHwt3JB-LATqcmTZWCFuS9nCVDFA-N6yk9wolRgosdtgwgts0AfPLcPkKEpn1PzNcxB1Cj2HrDdaVrnPxmhLlquczvG3dpSSDr3IExSUOgp9zhe3GbZ-ty_aYlwOq0B_QrVMS926VXwbMr2-rGojj_bn1_fMAEmYu8tJcEoAYugAfo9pc7qAeOzhuoB5PYG6gH7paxAqgH_p6xAqgHpKOxAqgH1ckbqAemvhuoB5oGqAfz0RuoB5bYG6gHqpuxAqgHg62xAqgH_56xAqgH35-xAtgHANIIFAiAYRABGB8yAooCOgKAQEi9_cE6sQksKiYxiydlFYAKAZgLAcgLAYAMAaIMCCoGCgTDsLECuAwBuBPkA9gTDIgUAtAVAZgWAfgWAYAXAQ&amp;ae=1&amp;num=1&amp;cid=CAQSKQBpAlJWEjEteA_36uF98EsB53vipMDhSFRoI4GDFpfmgF59S108L_eUGAE&amp;sig=AOD64_3WgXskaFQlJkICFP50eWZO2kBzvg&amp;client=ca-pub-8025829863996878&amp;rf=1&amp;nb=0&amp;adurl=https://wvw.swisseducation.com/caas/ga/qs%3Fcreative%3D647280195738%26keyword%3D%26matchtype%3D%26network%3Dd%26device%3Dc%26gclid%3DEAIaIQobChMI3ZS8v97GgAMVGMDtCh21DArBEAEYASAAEgILw_D_BwE"
    target="_top"
    x-score="2"
    >Download Our<br />Brochure Now</a
  >
</div>

<section class="w-[100%] py-5 bg-[#ffffff]">
  <div class="container">
    <div
      class="flex flex-col md:grid grid-cols-4 justify-start md:gap-x-3 space-y-4"
    >
      <div class="col-span-3 px-4 py-5 rounded-md shadow-sm border-gray-100">
        <!-- Order form -->
        <h1
          class="py-4 text-3xl font-bold text-muted-foreground italic border-b-2 mb-1"
        >
          PLACE AN ORDER
        </h1>
        
        <form
          class="flex items-start justify-start space-y-3 mt-5"
          method="post"
          enctype="multipart/form-data"
        >
          {% csrf_token %}
          <!-- task type -->
          <div class="flex flex-col w-full">
            <div >
              <div class="w-full">
                
                
                <h3
                class="mb-4 font-semibold text-gray-900 dark:text-white"
              >
                Type of Service
              </h3>
              <ul
                class="items-center w-full text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg sm:flex dark:bg-gray-700 dark:border-gray-600 dark:text-white"
              >
              
              <!-- TODO: TYPES OF SERVICE -->

              {% for service in form.type_of_service %}
                <li
                  class="w-full border-b border-gray-200 sm:border-b-0 sm:border-r dark:border-gray-600"
                >
                  <div class="flex items-center pl-3">
               
                    <label
                      for="SW"
                      class="w-full py-3 ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"
                      >{{service}}
                    </label>
                  </div>
                </li>
                
                {% endfor  %}
            
              </ul>
                
                <!-- TODO:ACADEMIC WRITING -->

                <section class="w-full py-4">
                  <h1 class="font-semibold mb-2 text-2xl">
                    Type of Paper
                  </h1>
                  
                  {{form.type_of_paper}}
                  
                  <h1 class="text-black font-semibold mb-2 text-2xl my-2 py-2">
                    Discipline
                  </h1>
                  
                 
                  
                  {{form.discipline}}
                  
                  
                  <div class="mb-6">
                    <label for="default-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Topic</label>
                    <input type="text" name="topic" id="default-input" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required>
                </div>
                  
                  
                  <h1 class="text-primary font-semibold mb-2 text-2xl my-2 pt-5">
                    pages/words
                  </h1>
                  
                  <div class="mt-3 flex-col w-full md:grid grid-cols-2">
                    <div class="inline-flex rounded-sm shadow-sm">
                      <button
                        id="page-decrement"
                        type="button"
                        class="px-4 py-2 text-sm font-size-600 font-bold text-plue-700 bg-white border border-gray-700 ronded-l-lg hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"
                      >
                        -
                      </button>

                    
                      {{form.pages}}
                      
                      <button
                        id="page-increment"
                        type="button"
                        class="px-4 py-2 text-sm font-bold text-plue-700 bg-white border border-gray-700 ronded-l-lg hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"
                      >
                        +
                      </button>
                    </div>

                    <div class="w-[200px] flex flex-col items-center justify-start space-y-3 md:my-2">
                      
                      {{form.words}}
                      <p class="font-bold text-base">Words</p>
                    </div>
                  </div>
                  
                  <h1 class="text-black font-semibold mb-2 text-2xl my-5">
                    Academic Level
                  </h1>

                  <select
                    onchange="handlePriceIncrement(this.value)"
                    title="academic_level"
                    name="academic_level"
                    data-te-select-init
                    data-te-select-filter="true"
                    class="form-select px-4 my-2 py-5 rounded-md appearance-none w-[100%]"
                  >
                    {% for academic_level in form.academic_level %}
                    {{academic_level}}
                    {% endfor %}
                  </select>
                  
                  <section>
                    <h1 class="font-semibold  text-2xl mt-5 mb-3">
                      Assignment Duration
                    </h1>
                    <div class="my-4">
                        

                        
                        <div  class="relative mb-3 mt-5">
                            
                              {{form.deadline_time}}
                              <small>{{form.deadline_time.help_text}}</small>
                            
                            <label
                              for="form13"
                              class="pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-200 dark:peer-focus:text-primary"
                              >Select a time</label
                            >
                          </div>
                       
                       
                      <div
                        class="relative mb-3 mt-5"
                        id="datepicker-with-limits"
                        data-te-input-wrapper-init
                      >
                        
                        {{form.deadline_date}}
                        <label
                          for="floatingInput"
                          class="pointer-events-none absolute left-3 top-0 mb-0 max-w-[90%] origin-[0_0] truncate pt-[0.37rem] leading-[1.6] text-neutral-500 transition-all duration-200 ease-out peer-focus:-translate-y-[0.9rem] peer-focus:scale-[0.8] peer-focus:text-primary peer-data-[te-input-state-active]:-translate-y-[0.9rem] peer-data-[te-input-state-active]:scale-[0.8] motion-reduce:transition-none dark:text-neutral-200 dark:peer-focus:text-primary"
                          >Select a date</label
                        >
                      </div>
                    </div>
                    
                    <h1 class=" font-semibold mb-2 text-2xl my-4">
                      Description
                    </h1>
                    <div
                      class="w-full mb-4 border border-gray-200 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600"
                    >
                    
                      <div 
                        class="px-4 py-2 bg-white rounded-b-lg dark:bg-gray-800"
                      >
                        {% include "assignments/textarea_header.html" %}
                        <label for="editor" class="sr-only">Publish post</label>
                        <textarea
                         
                          rows="8"
                          class="block w-full px-0 text-sm text-gray-800 bg-white border-0 dark:bg-gray-800 focus:ring-0 dark:text-white dark:placeholder-gray-400"
                          placeholder="Give furthur instructions for your assignnment..."
                          name="paper_instruction"
                          required
                        ></textarea>
                        
                      </div>
                    </div>
                    
                  

                  {% include "assignments/file_uploads.html" %}

                  {% include "assignments/audio.html" %}

                    <!-- TODO:SUPLIMENENTS -->

             

                    <h1 class=" font-semibold mb-2 text-2xl my-4">
                        Paper Format
                      </h1>
                    
                    <select
                      title="paper_format"
                      onchange="handlePriceIncrement(this.value)"
                      name="paper_format"
                      data-te-select-init
                      data-te-select-filter="true"
                    >
                      {% for format in form.paper_format %}
                      {{format}}
                      {% endfor %}
                    </select>

                    
                    <h1 class="font-semibold mb-2 text-2xl my-3">
                      Extra features
                    </h1>
                    <div class="my-5">
                      <div
                        class="pl-5 flex items-center border border-gray-200 rounded dard:border-gray-700"
                      >
                        <input
                          id="reference_copies"
                          type="checkbox"
                          name="checks[]"
                          value="reference_copies"
                          class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:ring-offset-gray-600 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                        />
                        <label
                          for="reference_copies"
                          class="w-full py-4 ml-2 text-sm font-medium text-gray-600 dark:text-gray-300"
                          >Reference Copies</label
                        >
                      </div>
                    </div>

                    <div class="my-5">
                      <div
                        class="pl-5 flex items-center border border-gray-200 rounded dard:border-gray-700"
                      >
                        <input
                          id="sms_update"
                          type="checkbox"
                          name="checks[]"
                          value="sms_update"
                          class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:ring-offset-gray-600 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                        />
                        <label
                          for="sms_update"
                          class="w-full py-4 ml-2 text-sm font-medium text-gray-600 dark:text-gray-300"
                          >Sms Update</label
                        >
                      </div>
                    </div>

                    <div class="my-5">
                      <div
                        class="pl-5 flex items-center border border-gray-200 rounded dard:border-gray-700"
                      >
                        <input
                          id="turnitin_report"
                          type="checkbox"
                          value="turnitin_report"
                          name="checks[]"
                          name="turnitin_report"
                          class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:ring-offset-gray-600 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                        />
                        <label
                          for="turnitin_report"
                          class="w-full py-4 ml-2 text-sm font-medium text-gray-600 dark:text-gray-300"
                          >Turnitin Report</label
                        >
                      </div>
                    </div>
                    
                    <div class="md:mb-3 flex-col sm:flex-row sm:inline-flex rounded-sm shadow-sm">
                       <div class="pr-5 pl-2">
                        <h1 class="font-semibold text-xl ">Power Points</h1>
                       </div>
                      <button
                        id="add-pptbtn"
                        type="button"
                        class="px-4 py-2 text-sm font-bold text-plue-700 bg-white border border-gray-700 ronded-l-lg hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"
                      >
                        +
                      </button>

                      <input title="ppt" type="number" name="ppt" value="0"  id="id_ppt"  class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white">
                      
                      <!-- <input
                        title="ppt"
                        id="ppt-count"
                        name="ppt"
                        value="0"
                        disabled
                        type="number"
                        class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"
                      /> -->
                      <!-- {{form.ppt}} -->

                      <button
                        type="button"
                        class="px-4 py-2 text-sm font-bold text-plue-700 bg-white border border-gray-700 ronded-l-lg hover:bg-gray-100 focus:z-10 focus:ring-2 focus:ring-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"
                      >
                        -
                      </button>

                    <script>
                      let ppt = document.getElementById("id_ppt")
                      // let price = document.getElementById("order_price");
                      // let priceDisplay = document.getElementById("priceDisplay");
                      const pptBtn = document.getElementById("add-pptbtn")

                      pptBtn.addEventListener("click", function(e){
                        let pptValue = parseInt(ppt.value)
                        ppt.value = pptValue + 1
                        let priceValue = parseFloat(parseFloat(price.value).toFixed(2));
                        price.value=parseFloat(priceValue+0.95).toFixed(2)
                        priceDisplay.textContent =parseFloat(priceValue+0.95).toFixed(2)
                        
                      })
                    </script>
                    
                    

                    </div>


                    <h1 class="font-semibold mb-2 text-2xl my-3">
                        Writer Choice
                      </h1>
                    <select
                      name="writer_choice"
                      onchange="handlePriceIncrement(this.value)"
                      data-te-select-init
                      class="mt-3"
                      title="writer_choice"
                    >
                      {% for writer in form.writer_choice %}
                      {{writer}}
                      
                      {% endfor %}
                    </select>
                    
                    <div class="my-5">
                      <div
                        class="pl-5 flex items-center border border-gray-200 rounded dard:border-gray-700"
                      >
                        <input
                          id="software_tools"
                          type="checkbox"
                          name="checks[]"
                          value="software_tools"
                          class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:ring-offset-gray-600 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                        />
                        <label
                          for="software_tools"
                          class="w-full py-4 ml-2 text-sm font-medium text-gray-600 dark:text-gray-300"
                          >Software tool</label
                        >
                      </div>
                    </div>
                    
                    
                  </section>
                </section>
                
              </div>
            </div>
            <button
              type="submit"
              class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
            >
              Proceed to payment
              <svg
                class="w-3.5 h-3.5 ml-2"
                aria-hidden="true"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 14 10"
              >
                <path
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M1 5h12m0 0L9 1m4 4L9 9"
                />
              </svg>
            </button>
          </div>
        </form>
      </div>
      <div class="col-span-1">
        
        calc summary
    
    <p>Price: <span id="priceDisplay">0.00</span></p>
    <input value="1.34" name="price" type="hidden" title="price" id="order_price" /> 
    <!-- {{form.price}} -->
    
    
    
    
    <script>
      let price = document.getElementById("order_price");
      let priceDisplay = document.getElementById("priceDisplay");
      priceDisplay.textContent=price.value

    </script>
    
    
    </div>
    </div>
  </div>
</section>
{% endblock main %} {% block scripts %}

<script>
  const handlePriceIncrement = e => {
    // const res = e.target.value
    console.log(e)
  }

  document.getElementById("type_of_paper").addEventListener("change",function(e){
    handlePriceIncrement(e.target.value)
  })

  document.getElementById("discipline").addEventListener("change",function(e){
    handlePriceIncrement(e.target.value)
  })
  
  const addBtn = document.getElementById('page-increment')
  const minusBtn = document.getElementById('page-decrement')
  let pageDisplay = document.getElementById('page-count')
  let wordCount = document.getElementById('word-count')
  
  
  function AddPages(){
    
  }

  addBtn.addEventListener('click', function (e) {
    let pageCounter = parseInt(pageDisplay.value);
    let wordCounter = parseInt(wordCount.value);
    let price = document.getElementById("order_price");
    let priceDisplay = document.getElementById("priceDisplay");
    let priceValue = parseFloat(parseFloat(price.value).toFixed(2));
    pageDisplay.value = pageCounter + 1;
    wordCount.value = wordCounter + 275;
  
    price.value=parseFloat(priceValue+1.34).toFixed(2)
    priceDisplay.textContent =parseFloat(priceValue+1.34).toFixed(2)
    

  })

  minusBtn.addEventListener('click', function (e) {
    let pageCounter = parseInt(pageDisplay.value)
    let wordCounter = parseInt(wordCount.value)
    if (pageCounter < 2) return
    if (wordCounter < 550) return
    pageDisplay.value = pageCounter - 1
    wordCount.value = wordCounter - 275
  })

  // const handleDateSubmission = (e)=>{
  const datepickerWithLimits = document.getElementById('datepicker-with-limits')

  new te.Datepicker(datepickerWithLimits, {
    min: new Date(
      new Date().getFullYear(),
      new Date().getMonth(),
      new Date().getDay()
    ),
    max: new Date(new Date().getFullYear() + 10, 5, 20)
  })
  // console.log(e)
  // }
  const pickerDisableFuture = document.querySelector(
    '#timepicker-disable-future'
  )
  const timepickerDisableFuture = new te.Timepicker(pickerDisableFuture, {
    disableFuture: true
  })

  const handleRadioBtn = () => {
    const radioBtns = document.querySelectorAll("input[name='type_of_service']")
    for (const btn of radioBtns) {
      if (btn.checked) {
        console.log(btn.value)
        break
      }
    }
  }

  const pptCount = document.getElementById('ppt-count')
</script>

{% endblock scripts %}
